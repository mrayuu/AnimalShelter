

### Логика CI/CD для Java-проекта с использованием GitHub Actions и Maven


#### Архитектура
Процесс CI/CD (непрерывной интеграции и непрерывного развертывания) организован в виде workflow GitHub Actions, который состоит из последовательных шагов, выполняемых на основе событий в репозитории (push, pull request). 

#### Определение Workflow

1. **Файл конфигурации Workflow**:
   - Файл конфигурации хранится в репозитории по пути: `.github/workflows/si-sd-workflow.yml`.

2. **События, запускающие Workflow**:
   - Workflow запускается на событиях push и pull request для основной ветки (`main`).

```yaml
name: Java CI with Maven

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]
```

3. **Рабочая среда (Runner)**:
   - Для выполнения задач используется виртуальная машина на базе Ubuntu (ubuntu-latest).

```yaml
jobs:
  build:
    runs-on: ubuntu-latest
```

#### Шаги Workflow

##### Шаг 1: Checkout Code
- **Описание**: Извлечение кода из репозитория.
- **Используемое действие**: `actions/checkout@v2`.

```yaml
steps:
- name: Checkout code
  uses: actions/checkout@v2
```

##### Шаг 2: Set up JDK
- **Описание**: Настройка окружения JDK 17 для сборки проекта.
- **Используемое действие**: `actions/setup-java@v3`.

```yaml
- name: Set up JDK 19
  uses: actions/setup-java@v3
  with:
    java-version: '19'
    distribution: 'adopt'
```

##### Шаг 3: Сборка Spring приложения
- **Описание**: Кэширование зависимостей Maven для ускорения последующих сборок.
- **Используемое действие**: `actions/cache@v2`.
- **Ключ кэша**: Формируется на основе хэша файлов `pom.xml`.

```yaml
    # Сборка Spring приложения
    - name: Build Spring application
      run: |
        cd AnimalShelter
        mvn -B package
```

##### Шаг 4: Build with Maven
- **Описание**: Сборка проекта с использованием Maven.
- **Команда**: `mvn clean install -B`.

```yaml
- name: Build with Maven
  run: mvn clean install -B
```

##### Шаг 5: Run Unit Tests
- **Описание**: Запуск юнит-тестов.
- **Команда**: `mvn test`.

```yaml
- name: Run unit tests
  run: mvn test
```

##### Шаг 6: Run Integration Tests
- **Описание**: Запуск интеграционных тестов.
- **Команда**: `mvn verify`.

```yaml
- name: Run integration tests
  run: mvn verify
```

##### Шаг 7: Deploy Application
- **Описание**: Развертывание приложения (выполняется только для событий push в основной ветке).
- **Команда**: Команда развертывания (заменить `echo` на фактическую команду).

```yaml
- name: Deploy application
  if: github.ref == 'refs/heads/main' && github.event_name == 'push'
  run: echo "Deploying application..."
```

### Преимущества использования SI/SD подхода

1. **Последовательное выполнение**:
   - Каждая задача выполняется после завершения предыдущей, обеспечивая упорядоченность и простоту отслеживания процесса.

2. **Единый набор данных**:
   - Все шаги выполняются над одним и тем же набором данных, что исключает возможность расхождений и ошибок, связанных с разными версиями данных.

3. **Простота и предсказуемость**:
   - Процесс легко предсказать, так как каждый шаг четко следует за предыдущим, и нет параллельных операций.

4. **Упрощенная отладка**:
   - В случае возникновения ошибок, легко определить на каком шаге произошел сбой, что значительно упрощает процесс отладки.




### 1. Распределение задач в проекте

#### 1.1 Процедура распределения задач

1. **Получение требований**:
   - Команда собирает и анализирует требования от заказчика или продуктового менеджера.
   - Создается список задач (backlog) на основе этих требований.

2. **Оценка задач**:
   - Каждая задача оценивается с точки зрения сложности и времени выполнения.
   - Оценка проводится с участием всех членов команды на планировочных встречах (sprint planning).

3. **Распределение задач**:
   - Задачи распределяются на основе компетенций и загрузки каждого члена команды.
   - Важные и критические задачи назначаются более опытным разработчикам (Мерзлова Анастасия).

4. **Назначение ответственных**:
   - Назначается ответственный за каждую задачу, который будет следить за ее выполнением и координировать работу, если задача требует командного выполнения.

5. **Трекер задач**:
   - Все задачи заносятся в систему управления проектами (Jira).
   - Назначенные задачи отслеживаются по статусам (To Do, In Progress, Review, Done).

### 2. Потоки поступления задач

#### 2.1 Основные потоки

1. **Заказы от клиентов**:
   - Запросы и изменения от клиентов поступают через продуктового менеджера (Исупова Дарья).
   - Задачи формулируются и добавляются в backlog.

2. **Внутренние инициативы**:
   - Внутренние улучшения и рефакторинг, предложенные членами команды.
   - Эти задачи обсуждаются на ретроспективах и планировочных встречах.

3. **Баги и инциденты**:
   - Поступающие баги от клиентов или выявленные на стадии тестирования.
   - Критические баги фиксируются немедленно, менее критичные планируются на ближайшие спринты.

#### 2.2 Распределение потоков с таймингом

1. **Ежедневные встречи (Daily Standup)**:
   - Время: каждое утро.
   - Обсуждаются текущие задачи, проблемы и планы на день.

2. **Планировочные встречи (Sprint Planning)**:
   - Время: в начале каждого спринта (каждые 1-2 недели).
   - Задачи на спринт оцениваются и распределяются.

3. **Ретроспективы**:
   - Время: в конце каждого спринта.
   - Анализируются успехи и неудачи, планируются улучшения.

4. **Демо-версии (Sprint Demo)**:
   - Время: в конце каждого спринта.
   - Представляются результаты работы за спринт заинтересованным сторонам.
